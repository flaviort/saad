---
import { Icon } from 'astro-icon/components'

// routes / utils
import routes from '@/utils/routes'

---

<section id='contact-marquee'>
    <div class='container'>
        <a href={routes.contact}>

            <div class='marquee uppercase'>
                
                <span>
                    Let's create the future of your brand.&nbsp;
                </span>

                <span>
                    Let's create the future of your brand.&nbsp;
                </span>

            </div>

            <div class='grid-container'>
                <p class='flex grid-md-6-7'>
                    Contact us
                    <Icon name='ux/arrow-right' is:inline />
                </p>
            </div>

        </a>
    </div>
</section>

<style lang='scss'>
	#contact-marquee {
        background: $white;
        color: $black;
        border-bottom: 1px solid $white;
        padding: 3.25rem 0 3rem 0;
        transition: .6s ease-in-out;

        @media #{$mq-md-min} {
            padding: 4rem 0;
        }

        &:hover {
            color: $white;
            background: $black;
        }

        .marquee {
            font-size: 20vw;
            line-height: 1;
            display: flex;
            white-space: nowrap;
        }

        .grid-container {
            align-items: flex-end;
            justify-content: flex-end;
            padding-top: 1rem;

            @media #{$mq-md-min} {
            }

            .flex {
                display: flex;
                align-items: center;
                justify-content: flex-end;
                gap: .75rem;

                svg {
                    width: 1rem;
                    height: 1rem;
                }
            }
        }
    }
</style>

<script>
    import { gsap } from 'gsap'
	import { ScrollTrigger } from 'gsap/ScrollTrigger'
	gsap.registerPlugin(ScrollTrigger)
    
    let tl = gsap.to('#contact-marquee .marquee span', {
        xPercent: -100,
        duration: 20,
        ease: 'none',
        repeat: -1
    }).totalProgress(.5)

    document.addEventListener('scrollingUp', function() {
        gsap.to(tl, {
			timeScale: -1
		})
    })

    document.addEventListener('scrollingDown', function() {
        gsap.to(tl, {
			timeScale: 1
		})
    })

</script>